<?php
/*
Template Name: Home page
*/

get_header();

?>
<section class="container-main">
    <div class="row">
      <div class="col-lg-6 topsectionleftside">
        <div class="topleftcontent">
          <h1 class="fw-light">Where intuition</h1>
          <h1 class="fw-light">meets innovation</h1>  
        </div>
        <div class="abouttext-1">
          <a><span class="showservice">Let's innovate </span><span class="hideservice">Let's innovate</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
        </svg></a>
        
      </div>
      </div>
      <div class="col-lg-6 row topsectionrightside">
        <div class="col-md-6">
          <div class="leftone threesecion align-bottom">
            <a href="#">
              <h2 class="align-text-bottom maintitls">Branding & Identity</h2>
              <h2 class="hiddendata">View Details </h2>
              <div class="iconsdetails">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/> </svg>
              </div>
            </a>
          </div>
          <div class="lefttwo threesecion">
            <a href="#">
            <h2 class="align-text-bottom maintitls">Promotionals</h2>
            <h2 class="hiddendata">View Details</h2>
            <div class="iconsdetails">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/></svg>
            </div>
            </a>
          </div>
          <div class="leftthree threesecion">
            <a href="#">
            <h2 class="align-text-bottom maintitls">Video marketing</h2>
            <h2 class="hiddendata">View Details</h2>
            <div class="iconsdetails">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/></svg>
            </div>
            </a>
          </div>
        </div>
        <div class="col-md-6">
          <div class="rightone twosection">
            <a href="#">
            <h2 class="align-text-bottom maintitls">UI/UX Design</h2>
            <h2 class="hiddendata">View Details</h2>
            <div class="iconsdetails">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/></svg>
            </div>
            </a>
          </div>
          <div class="righttwo twosection">
            <a href="#">
            <h2 class="align-text-bottom maintitls">Illustration Digital Art</h2>
            <h2 class="hiddendata">View Details</h2>
            <div class="iconsdetails">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/></svg>
            </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="container-main" id="about-section">
    <div class="row">
      <div class="col-md-6 text-center pt-5 pb-5 aboutimage">
        <img src="<?php echo get_theme_file_uri();?>/img/aboutus.svg">
      </div>
      <div class="col-md-6 abouttext ">
        <h3 class="align-text-bottom w-50">There are 99+ ways to do something. </h3> <h3 class="align-text-bottom findinghead">Finding the best way is where the genius lies.</h3>
        <p>Design + Communication is part experience, part expertise, and part intuition. Experience helps in decoding the need, expertise helps in delivering precise design + communication, and intuition helps in knowing that the design + communication will work.</p>
        <a><span class="showservice">Explore services</span><span class="hideservice">Our Services</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
        </svg></a>
      </div>
    </div>
  </section>

  <section class="container-main pt-5 pb-5" id="our-works">
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <h3>Our work says it all</h3>
        </div>
        <div class="col-md-4 viewprojects">
          <a href="<?php echo home_url();?>/work">View Projects <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
          </svg></a>
        </div>
      </div>
    </div>
  </section>
  
  <section class="pb-5" id="our-workslider">
    <?php 
      $args = array(
        'post_type' => 'projects',
        'posts_per_page' => '-1',
        'order' => 'asc'
      );
     // $Slider=query_posts('post_type=projects  && posts_per_page=9 && order=asc');
      $the_query = new WP_Query ( $args ); 
      $count_books = wp_count_posts('projects');
      $tP = $count_books->publish;
      $j =1;
      $item_count = 0;
    ?>
    <div id="carouselExampleControls" class="carousel slide our-workslider-desktop" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <span class="leftindicator">1</span>
        <?php for($i=0;$i<ceil($tP/3);$i++){
        ?>
          <button type="button" data-bs-target="#carouselExampleControls" data-bs-slide-to="<?php echo $i; ?>" class="<?php if ($i == 0 ) { echo ' active'; } ?>" aria-current="true" aria-label="Slide 1"></button>
        <?php 
        }
        ?>
        <span class="rightindicator"><?php print_r(ceil($tP/3));?></span>

      </div>
      <div class="carousel-inner" id="sliderinner">
        <div class="carousel-item active">
          <div class="row">
            <?php while ($the_query->have_posts() ) : $the_query->the_post();  
            $featured_img_url = get_the_post_thumbnail_url(get_the_ID(),'full'); 

              $work_categories = get_the_terms($post->ID, 'project' );
              $work_cats = array_column($work_categories, 'name');
            ?>
            <div class="col-md-4 mb-3 slider-data">
              <div class="slider-img">
                <img src="<?php echo $featured_img_url;?>" alt="CarlijnQ"> 
              </div>
              <h4><?php the_title();?></h4>
              <p><?php echo wp_trim_words( get_the_content(), 11, '...' );?></p>
              <p><b><?php echo implode(' | ', $work_cats); ?></b></p>
              <a href="<?php the_permalink();?>">View Projects <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
              </svg></a>
            </div>
            <?php
            if($j % 3 === 0) {
              echo '</div> </div>';
              if($j < $tP){ echo '<div class="carousel-item tough "><div class="row">';}
            }
            $j++;
            endwhile; ?>
          </div>
        </div>
        
      </div>
      
    </div>

    <div id="carouselExampleControlsMobile" class="carousel slide our-workslider-mobile" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <span class="leftindicator">1</span>
        <?php for($i=0;$i<$tP;$i++){
        ?>
          <button type="button" data-bs-target="#carouselExampleControlsMobile" data-bs-slide-to="<?php echo $i; ?>" class="<?php if ($i == 0 ) { echo ' active'; } ?>" aria-current="true" aria-label="Slide <?php echo $i; ?>"></button>
        <?php 
        }
        ?>
        <span class="rightindicator"><?php echo $tP; ?></span>

      </div>
      <div class="carousel-inner" id="sliderinner">
            <?php
            $m = 0;
            while ($the_query->have_posts() ) : $the_query->the_post();  

              $featured_img_url = get_the_post_thumbnail_url(get_the_ID(),'full'); 

              $work_categories = get_the_terms($post->ID, 'project' );
              $work_cats = array_column($work_categories, 'name');
            ?>
              <div class="carousel-item <?php if ($m==0 ) { echo 'active'; } ?>">
                <div class="row">
                  <div class="col-md-12 mb-3 slider-data">
                    <div class="slider-img">
                      <img src="<?php echo $featured_img_url;?>" alt="CarlijnQ"> 
                    </div>
                    <h4><?php the_title();?></h4>
                    <p><?php echo wp_trim_words( get_the_content(), 11, '...' );?></p>
                    <p><b><?php echo implode(' | ', $work_cats); ?></b></p>
                    <a href="<?php the_permalink();?>">View Projects <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                    </svg></a>
                  </div>
                </div>
              </div>
            <?php
            $m++;
            endwhile;
            ?>
      </div>
    </div>

  </section>

  <section class="inside-ar-section">
    <div class="container-md">
      <div class="row inside-ar-title-row">
        <div class="col-md-8">
          <h3>Inside AR</h3>
        </div>
        <div class="col-md-4 view-blog-btn">
          <a href="<?php echo home_url();?>/blog">View our blogs <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/></svg></a>
        </div>
      </div>

      <?php 
        $blogArgs = array(
          'post_type' => 'post',
          'posts_per_page' => '-1', 
          'orderby'=> 'date', 
          'order' => 'DESC'
        );
        $the_query = new WP_Query($blogArgs); 
        
        $totalBlog = $the_query->found_posts;
        $i = 1;
      ?>
      <div class="row">
        <div class="col-md-12">
          <?php
          if ( $the_query->have_posts() ) :
          ?>
            <div id="carouselInsideControls" class="carousel slide inside-ar-desktop" data-bs-ride="carousel">
              <div class="carousel-inner inside-ar-slider" id="inside-ar-slider">
                <div class="carousel-item active">
                  <div class="row">
                    <?php
                    while( $the_query->have_posts() ) : $the_query->the_post();  
                      $featured_img_url = get_the_post_thumbnail_url(get_the_ID(),'full'); 
                      $hover_image = get_field('hover_image');
                      
                    ?>
                      <div class="col-md-4">
                        <div class="blog-img">
                          <img src="<?php echo $featured_img_url; ?>" alt="<?php echo get_the_title(); ?>" class="blog-img-show"> 
                          <?php if($hover_image){ ?>
                            <img src="<?php echo $hover_image;?>" alt="<?php the_title();?>" class="blog-img-hide">
                          <?php }else{ ?>
                            <img src="<?php echo $featured_img_url; ?>" alt="<?php echo get_the_title(); ?>" class="blog-img-hide"> 
                          <?php } ?>
                        </div>
                        <div class="blog-date">
                          <img src="<?php echo get_theme_file_uri();?>/assets/blog/calender-icon.png" alt="Calender Icon">
                          <span><?php echo date('d M, Y', strtotime(get_the_date())); ?></span>
                        </div>
                        <h4><?php echo get_the_title(); ?></h4>
                        <a href="<?php echo get_the_permalink(); ?>">Read more <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                        </svg></a>
                      </div>
                    <?php
                    if($i % 3 === 0)
                    {
                      if($i < $totalBlog)
                      {
                        echo '</div> </div>';
                      }
                      else
                      {
                        echo '</div>';
                      }
                      
                      if($i < $totalBlog)
                      {
                        echo '<div class="carousel-item"> <div class="row">';
                      }
                    }
                    $i++;
                    endwhile;
                    ?>
                  </div>
                </div>
              </div>

              <div class="carousel-indicators">
                <span class="inside-start-number">01</span>
                <?php
                for( $i=0; $i<ceil($totalBlog/3); $i++ )
                {
                ?>
                  <button type="button" data-bs-target="#carouselInsideControls" data-bs-slide-to="<?php echo $i; ?>" class="<?php if( $i == 0 ) { echo ' active'; } ?>" aria-current="true" aria-label="Slide <?php echo $i; ?>"></button>
                <?php 
                }
                ?>
                <span class="inside-end-number">0<?php echo ceil($totalBlog/3); ?></span>
              </div>
            </div>

            <div id="carouselInsideControlsMobile" class="carousel slide inside-ar-mobile" data-bs-ride="carousel">
              <div class="carousel-inner inside-ar-slider" id="inside-ar-slider">
                    <?php
                    $m = 0;
                    while( $the_query->have_posts() ) : $the_query->the_post();  
                      $featured_img_url = get_the_post_thumbnail_url(get_the_ID(),'full'); 
                      $hover_image = get_field('hover_image');
                    ?>
                      <div class="carousel-item <?php if( $m==0 ) { echo 'active'; } ?>">
                        <div class="row">
                          <div class="col-md-4">
                            <div class="blog-img">
                              <img src="<?php echo $featured_img_url; ?>" alt="<?php echo get_the_title(); ?>" class="blog-img-show"> 
                              <?php if($hover_image){ ?>
                                <img src="<?php echo $hover_image;?>" alt="<?php the_title();?>" class="blog-img-hide">
                              <?php }else{ ?>
                                <img src="<?php echo $featured_img_url; ?>" alt="<?php echo get_the_title(); ?>" class="blog-img-hide"> 
                              <?php } ?>
                            </div>
                            <div class="blog-date">
                              <img src="<?php echo get_theme_file_uri();?>/assets/blog/calender-icon.png" alt="Calender Icon">
                              <span><?php echo date('d M, Y', strtotime(get_the_date())); ?></span>
                            </div>
                            <h4><?php echo get_the_title(); ?></h4>
                            <a href="<?php echo get_the_permalink(); ?>">Read more <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
                            </svg></a>
                          </div>
                        </div>
                      </div>
                    <?php
                    $m++;
                    endwhile;
                    ?>
              </div>

              <div class="carousel-indicators">
                <span class="inside-start-number">01</span>
                <?php
                for( $i=0; $i<$totalBlog; $i++ )
                {
                ?>
                  <button type="button" data-bs-target="#carouselInsideControlsMobile" data-bs-slide-to="<?php echo $i; ?>" class="<?php if( $i == 0 ) { echo ' active'; } ?>" aria-current="true" aria-label="Slide <?php echo $i; ?>"></button>
                <?php 
                }
                ?>
                <span class="inside-end-number"><?php echo $totalBlog<=9 ? '0'.$totalBlog : $totalBlog; ?></span>
              </div>
            </div>
          <?php endif; ?>

        </div>
      </div>
    </div>
  </section>

<?php
get_footer();
